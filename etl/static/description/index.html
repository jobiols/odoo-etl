<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.15.1: http://docutils.sourceforge.net/" />
<title>odoo ETL</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="odoo-etl">
<h1 class="title">odoo ETL</h1>

<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!! This file is generated by oca-gen-addon-readme !!
!! changes will be overwritten.                   !!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<p><a class="reference external" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external" href="https://github.com/jobiols/odoo-etl/tree/12.0/etl"><img alt="jobiols/odoo-etl" src="https://img.shields.io/badge/github-jobiols%2Fodoo--etl-lightgray.png?logo=github" /></a></p>
<p>ETL     is an Odoo module developed to move data between databases easily. It
can be used for data migration from different Odoo versions not necessarily
consecutives, data synchronization between Odoo databases, joining of Odoo
databases, and also cleaning data from Odoo databases.</p>
<p>ETL is an abbreviation for extraction, transformation and loading.
The module usually runs in a separate database but can also be installed in
the target database.</p>
<p>ETL was migrated from Odoo V8/9 to V11 so it has not been tested on odoo V10.</p>
<p><strong>Table of contents</strong></p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#installation" id="id1">Installation</a></li>
<li><a class="reference internal" href="#configuration" id="id2">Configuration</a><ul>
<li><a class="reference internal" href="#preparing-the-target-database-for-migration" id="id3">Preparing the Target Database for Migration</a></li>
<li><a class="reference internal" href="#read-databases" id="id4">Read Databases</a></li>
<li><a class="reference internal" href="#mapping" id="id5">Mapping</a></li>
<li><a class="reference internal" href="#test-actions" id="id6">Test Actions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage" id="id7">Usage</a><ul>
<li><a class="reference internal" href="#crear-un-registro-manager" id="id8">1- Crear un registro Manager</a></li>
<li><a class="reference internal" href="#leer-los-modelos" id="id9">1- Leer los modelos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#known-issues-roadmap" id="id10">Known issues / Roadmap</a></li>
<li><a class="reference internal" href="#bug-tracker" id="id11">Bug Tracker</a></li>
<li><a class="reference internal" href="#credits" id="id12">Credits</a><ul>
<li><a class="reference internal" href="#authors" id="id13">Authors</a></li>
<li><a class="reference internal" href="#contributors" id="id14">Contributors</a></li>
<li><a class="reference internal" href="#other-credits" id="id15">Other credits</a></li>
<li><a class="reference internal" href="#maintainers" id="id16">Maintainers</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation">
<h1><a class="toc-backref" href="#id1">Installation</a></h1>
<p>Just intslall the module</p>
</div>
<div class="section" id="configuration">
<h1><a class="toc-backref" href="#id2">Configuration</a></h1>
<p>After installing ETL module, navigate to ETL’s manager model and create a new manager
with the following details:
<strong>Name</strong> field contains the name of your manager without any specific restriction for the name.</p>
<dl class="docutils">
<dt><strong>Target ID Type</strong> field is a selection field with possible values <em>Source ID</em> or <em>Builded ID</em>.</dt>
<dd>When set to <em>Source ID</em>, the record XML ID that will be used in the migration process
will be according to the default source exported external ID. On the other hand,
when set to <em>Builded ID</em>, the record XML ID that will be used in the migration process
will be customized according to the prefix set later at an additional field. The usage
of <em>source ID</em> is recommended when performing migration process.</dd>
<dt><strong>Source Hostname</strong> field should be the source database host URL that is used to access</dt>
<dd>the Odoo database from remote OS. For example: <a class="reference external" href="http://192.168.1.101">http://192.168.1.101</a>.</dd>
<dt><strong>Source Port</strong> field should be the source database port that is used to access the Odoo</dt>
<dd>database. For example: 8069.</dd>
</dl>
<p><strong>Source Database</strong> field should be the source database name.</p>
<dl class="docutils">
<dt><strong>Source Login</strong> field should be the username that is used to login to the source</dt>
<dd>database from the login page. Make sure the user have a full access to all the models.</dd>
<dt><strong>Source Password</strong> field should be the password according to the username that is</dt>
<dd>used to login to the source database from the login page.</dd>
<dt><strong>Source Language</strong> field is the source database default language. It’s recommended to</dt>
<dd>keep the language as default (en_US).</dd>
<dt><strong>Target Hostname</strong> field should be the target database host URL that is used to access</dt>
<dd>the Odoo database from remote OS. For example: <a class="reference external" href="http://192.168.1.101">http://192.168.1.101</a>.</dd>
<dt><strong>Target Port</strong> field should be the target database port that is used to access the Odoo</dt>
<dd>database. For example: 8069.</dd>
</dl>
<p><strong>Target Database</strong> field should be the target database name.</p>
<dl class="docutils">
<dt><strong>Target Login</strong> field should be the username that is used to login to the target</dt>
<dd>database from the login page. Make sure the user have a full access to all the models.</dd>
<dt><strong>Target Password</strong> field should be the password according to the username that is</dt>
<dd>used to login to the target database from the login page.</dd>
<dt><strong>Target Language</strong> field is the target database default language. It’s recommended to</dt>
<dd>keep the language as default (en_US)</dd>
</dl>
<div class="section" id="preparing-the-target-database-for-migration">
<h2><a class="toc-backref" href="#id3">Preparing the Target Database for Migration</a></h2>
<p>Make sure the target database is created and all the modules that will receive the records
from the source database are installed. For example if you’re performing the migration for HR
and     Projects, make sure     the     HR and Projects modules are installed in the target/destination
database and of course the source database.</p>
</div>
<div class="section" id="read-databases">
<h2><a class="toc-backref" href="#id4">Read Databases</a></h2>
<p>To read the models and get the record counts from the source and the target/destination
database click <strong>Read and Get Record</strong> from the action bar. The ETL module will now attempt
to connect and read from the source and destination databases.</p>
<p>After the process is done, the <strong>External Models</strong> tab from your manager form view should
contain the list of models that have been read from the source and target database (along
with its fields when clicked) and record counts.</p>
</div>
<div class="section" id="mapping">
<h2><a class="toc-backref" href="#id5">Mapping</a></h2>
<p>Matching the source models and the target models along with its fields can be done
automatically by ETL; however, the result may not be perfectly correct. Some models and
fields that changes across the version may have to be manually matched which will be
explained in the next section. To perform an automatic model and fields mapping, simply
click <strong>Match and Order</strong> from the action bar.</p>
<p>After the process is done, the Actions tab from your manager form view should contain the
list of actions (model mappings) that have been matched and ordered by ETL.</p>
</div>
<div class="section" id="test-actions">
<h2><a class="toc-backref" href="#id6">Test Actions</a></h2>
<p>At the first use of the ETL manager, it’s necessary to test the actions one by one which also
means the migration will happen model by model for the first time. An action represents a
migration for a single model at a time. Actions can also be understood as model mapping.
It’s not necessary to configure all the actions/model mapping implied by the Match and
Order action, but only the required actions/model mapping necessary for the intended
migration.</p>
<p>To be able to configure the actions and test it, simply click it from the list of actions in the
manager.</p>
<p>Following is the details about the fields in the action model:</p>
<p><strong>Name</strong> field should be the name of the action which is usually automated from the
Match and Order previous action.</p>
<p><strong>Source Domain</strong> field is used to apply domain for the source database model when
performing the migration to filter out or include certain records in the migration.</p>
<p><strong>Blocked</strong> field is used to block the actions from running instead of having to switch
the status to disabled. This field is used when configuring and testing the action on
the first run of migration. After done configuring the action, Blocked field will usually
be checked then later unchecked when performing the real migration which will be
explained in the next section.</p>
<p>Sequence field is used to order the action. The order for which action (model) will be
performed first is really important due to the dependencies between models. For
example, the sequence of customer tags model should be lower than the customer
model since migration of the customer model will require the existing records of tags
when the field of tag_ids is enabled (field configuration will be explained in the next
section).</p>
<p>Repeating Action field is a read-only field which will be automatically checked when
the one of the fields state in the action’s Field Mapping list is set to on_repeating.
When this field is checked, the Run Repeated Action button will appear in the action
bar of the Actions model form.</p>
<p>From Record field is also used to filter out or include records in the migration
process. The records that will be migrated will start from the value set at this field.
To disable this feature, simply leave it along with the To Record field to its default
value 0 (zero).</p>
<p>To Record field is also used to filter out or include records in the migration process.
The records that will be migrated will end at the value set at this field. To disable this
feature, simply leave it along with the From Record field to its default value 0 (zero).
Copyright © PT. Vikasa Infinity Anugrah. All rights reserved.</p>
<p>Source Model field contains selections of the source model name.
source_id_exp field is the field name of the ID field in the source model. Usually is set
at its default (id).
Source Records is a read only field counting the number of records at the source
database in relation to the selected source model. Number of non-active records will
not be counted, but can still be included in migration by setting the domain [‘|’,
(‘active’, ‘=’, True), (‘active’, ‘=’, False)]
Target Model field contains selections of the target model name which will be
mapped to receive the records from the source model when running the action.
Target ID Type field have the same function as the Target ID Type field of the
manager model. The default value will follow the value set at the Target ID Type field
of the manager model and can be changed in every action according to preference
(not recommended).
Target Records is a read only field counting the number of records at the
destination/target database in relation to the selected target model. Number of non-
active records will not be counted.
target_id_prefix field will only appear when the Target ID Type field is set to Builded
ID allowing the customization of the records XML id instead of using the default
export external ID.</p>
<p>The Action fields are usually set correctly by the automatic Match and Order action. Beside
configuring the fields, it’s very important to set the action’s state which can be changed to
the following possible state:</p>
<p>Enabled state should be set to an action that will be included in the migration
process.</p>
<p>To Analyse state should be set to an action that require a further analysis and
testing. When an action is set to this state, it will not be included when running the
migration process.</p>
<p>Disabled state should be set to an action that will not be included in the migration
process.</p>
<p>No Records state should be set to an action that will not be included in the migration
process due to 0 records found in the source model.</p>
<p>After correctly configuring and checking the Action fields, it’s very important to also check
and configure every line of field mapping in the field mapping list in every actions. The field
mapping determines which field of the selected model to be included or excluded in the
migration process. To configure the fields, simply click the field mapping from the field
mapping list of the action form.</p>
</div>
</div>
<div class="section" id="usage">
<h1><a class="toc-backref" href="#id7">Usage</a></h1>
<ul class="simple">
<li>It is recommendend to delete all external identifiers on source database for model “res_partner” because when creating a user, odoo simulates partner creation and raise a unique constraint (except the admin user)</li>
<li>Also could be recommendend to delete external identifiers related to product and product_temlate (except service products)</li>
<li>Advisable to configure xmlrpc users to timezone zero to avoid errors</li>
<li>Asegurarse de tener permisos manger para este modulo.</li>
<li>Es aconsejable quitar las restricciones de timeout poniendo workers=0</li>
</ul>
<div class="section" id="crear-un-registro-manager">
<h2><a class="toc-backref" href="#id8">1- Crear un registro Manager</a></h2>
<p>En este formulario se ponen los datos de Fuente y Destino de las instancias
de odoo para las que vamos a trabajar.</p>
</div>
<div class="section" id="leer-los-modelos">
<h2><a class="toc-backref" href="#id9">1- Leer los modelos</a></h2>
<p>Con el boton <strong>READ MODELS</strong> se leen los modelos de las instancias Fuente y Destino
y luego de la carga se pueden ver en la pestaña <strong>External Models</strong></p>
<p>El boton <strong>GET RECORD NUMBER</strong> lee la cantidad de registros en cada modelo</p>
<p>Luego con el boton <strong>MATCH MODELS</strong> intenta machear los modelos y los campos de
los modelos, creando <strong>Acciones</strong></p>
<p>Las acciones aparecen en gris, verde o azul segun estan <em>deshabilitadas</em>, <em>habilitadas</em>, o <em>para analizar</em></p>
</div>
</div>
<div class="section" id="known-issues-roadmap">
<h1><a class="toc-backref" href="#id10">Known issues / Roadmap</a></h1>
<p>Hacer exportacion e importacion de scripts de migracion para poder ponerlos en git</p>
</div>
<div class="section" id="bug-tracker">
<h1><a class="toc-backref" href="#id11">Bug Tracker</a></h1>
<p>Bugs are tracked on <a class="reference external" href="https://github.com/jobiols/odoo-etl/issues">GitHub Issues</a>.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
<a class="reference external" href="https://github.com/jobiols/odoo-etl/issues/new?body=module:%20etl%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
<p>Do not contact contributors directly about support or help with technical issues.</p>
</div>
<div class="section" id="credits">
<h1><a class="toc-backref" href="#id12">Credits</a></h1>
<div class="section" id="authors">
<h2><a class="toc-backref" href="#id13">Authors</a></h2>
<ul class="simple">
<li>ADHOC SA</li>
<li>jeo Software</li>
</ul>
</div>
<div class="section" id="contributors">
<h2><a class="toc-backref" href="#id14">Contributors</a></h2>
<ul class="simple">
<li>Ingadhoc Juan Jose Scarafia &lt;<a class="reference external" href="mailto:jjscarafia&#64;adhoc.com">jjscarafia&#64;adhoc.com</a>&gt;</li>
<li>Jorge Obiols &lt;<a class="reference external" href="mailto:jorge.obiols&#64;gmail.com">jorge.obiols&#64;gmail.com</a>&gt; (www.jeosoft.com.ar)</li>
</ul>
</div>
<div class="section" id="other-credits">
<h2><a class="toc-backref" href="#id15">Other credits</a></h2>
<p>The development of this module has been financially supported by:</p>
<ul class="simple">
<li>jeo Software</li>
<li>Ingadhoc</li>
</ul>
</div>
<div class="section" id="maintainers">
<h2><a class="toc-backref" href="#id16">Maintainers</a></h2>
<p>This module is part of the <a class="reference external" href="https://github.com/jobiols/odoo-etl/tree/12.0/etl">jobiols/odoo-etl</a> project on GitHub.</p>
<p>You are welcome to contribute.</p>
</div>
</div>
</div>
</body>
</html>
